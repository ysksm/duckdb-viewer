# Tasks - DuckDB Viewer

## Phase 1: プロジェクト初期化

- [x] Tauri + Angular プロジェクトの作成
- [x] Angular 21 のセットアップ
- [x] Tauri 2.x のセットアップ
- [x] 必要な依存関係のインストール
- [x] 基本的なプロジェクト構造の作成

## Phase 2: バックエンド実装（Rust）

### 2.1 DuckDB 接続管理
- [x] DuckDB 依存関係の追加
- [x] ConnectionManager の実装
- [x] データベースオープン/クローズ機能
- [ ] インメモリデータベース対応

### 2.2 Tauri コマンド実装
- [x] `open_database` コマンド
- [x] `close_database` コマンド
- [x] `execute_query` コマンド
- [x] `get_tables` コマンド
- [x] `get_table_schema` コマンド
- [x] `get_table_data` コマンド（ページネーション対応）

### 2.3 エクスポート機能
- [x] CSV エクスポート実装
- [x] Excel (xlsx) エクスポート実装
- [x] Parquet エクスポート実装
- [x] JSON エクスポート実装

### 2.4 インポート機能
- [x] CSV インポート実装
- [x] Parquet インポート実装
- [x] Excel インポート実装

## Phase 3: フロントエンド実装（Angular）

### 3.1 基本 UI
- [x] メインレイアウトコンポーネント
- [x] ツールバーコンポーネント
- [x] リサイズ可能なスプリッター

### 3.2 サイドバー
- [x] データベース接続状態表示
- [x] テーブル一覧表示
- [x] テーブル選択機能

### 3.3 SQL エディタ
- [x] SQL エディタ（シンプル textarea）
- [ ] Monaco Editor の統合（未実装 - Angular 21 未対応）
- [x] クエリ実行機能（Ctrl+Enter）
- [x] 実行ボタン

### 3.4 データテーブル
- [x] クエリ結果表示
- [x] ページネーション
- [x] カラムソート
- [ ] 仮想スクロール（大量データ対応）

### 3.5 スキーマビューア
- [x] テーブルスキーマ表示
- [x] カラム情報表示

## Phase 4: 機能統合

### 4.1 データベース操作
- [x] ファイル選択ダイアログ
- [x] 新規データベース作成
- [x] 接続履歴機能

### 4.2 エクスポート UI
- [x] エクスポートメニュー
- [x] 形式選択
- [x] 保存先選択

### 4.3 サンプルデータ作成
- [x] Users テーブル作成（100行）
- [x] Orders テーブル作成（500行）
- [x] Products テーブル作成（50行）
- [x] 全サンプルデータ一括作成

## Phase 5: ダッシュボード機能

### 5.1 ダッシュボード基盤
- [x] ダッシュボードコンポーネント作成
- [x] グリッドレイアウト実装（angular-gridster2）
- [x] ダッシュボード設定の永続化（Tauri Store）

### 5.2 ウィジェット実装
- [x] チャートウィジェット（Chart.js）
- [x] テーブルウィジェット
- [x] KPI ウィジェット
- [x] ウィジェット設定ダイアログ

### 5.3 ダッシュボード管理
- [x] ダッシュボード一覧
- [x] 新規作成・編集・削除
- [x] データソース（クエリ）の紐付け

## Phase 6: UI/UX 改善

- [x] ダークモード対応（デフォルト）
- [x] キーボードショートカット（Ctrl+Enter）
- [ ] エラーハンドリング改善
- [ ] ローディング表示
- [ ] 通知・トースト機能

## Phase 7: テスト・品質

- [ ] ユニットテスト（Rust）
- [ ] ユニットテスト（Angular）
- [ ] E2E テスト
- [ ] パフォーマンステスト

## 現在の進捗

### 完了
- [x] 要件定義書作成
- [x] 設計書作成
- [x] タスク一覧作成
- [x] Phase 1: プロジェクト初期化
- [x] Phase 2: バックエンド実装
- [x] Phase 3: フロントエンド実装
- [x] Phase 4: 機能統合
- [x] Phase 5: ダッシュボード機能

### 残タスク
- [ ] Monaco Editor 統合（Angular 21 対応版待ち）
- [ ] 仮想スクロール実装
- [ ] インメモリデータベース対応
- [ ] テスト実装
